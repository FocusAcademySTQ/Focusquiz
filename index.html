<!DOCTYPE html>
<html lang="ca">
<head>
<meta charset="UTF-8">
<title>Focus Academy - Matem√†tiques</title>
<style>
  :root {
    --primary: #6366f1;
    --primary-dark: #4f46e5;
    --bg-light: #f8fafc;
    --bg-white: #ffffff;
    --text-dark: #1e293b;
    --text-light: #64748b;
    --radius: 12px;
  }
  body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--bg-light); color: var(--text-dark); }
  header { background: linear-gradient(90deg, var(--primary-dark), var(--primary)); color: white; padding: 14px 24px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 10; }
  header h1 { font-size: 1.4em; margin: 0; font-weight: 600; }
  main { padding: 30px 20px; max-width: 1000px; margin: auto; }
  h2 { font-size: 1.6em; font-weight: 700; margin-top: 40px; margin-bottom: 15px; }
  p { color: var(--text-light); }
  .topics { display: grid; grid-template-columns: repeat(auto-fill,minmax(200px,1fr)); gap: 12px; margin-top: 20px; }
  .topic { background: var(--bg-white); padding: 12px; border: 1px solid #e2e8f0; border-radius: var(--radius); cursor: pointer; text-align: center; transition: 0.2s; }
  .topic:hover { background: #eef2ff; }
  .box { background: var(--bg-white); border: 1px solid #e2e8f0; padding: 20px; border-radius: var(--radius); margin-top: 15px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
  button { cursor: pointer; padding: 8px 14px; border-radius: var(--radius); border: none; font-weight: 500; transition: all 0.2s ease; background: var(--primary); color: white; }
  button:hover { background: var(--primary-dark); }
  input { padding: 8px; border-radius: var(--radius); border: 1px solid #cbd5e1; width: 100%; margin-bottom: 10px; }
  .quiz-question { margin: 10px 0; padding: 14px; background: #f1f5f9; border-radius: var(--radius); }
  .choices button { margin: 4px; background: #e2e8f0; color: var(--text-dark); border: 1px solid transparent; }
  .choices button:hover { background: #cbd5e1; }
  .correct { background: #bbf7d0 !important; }
  .wrong { background: #fecaca !important; }
  #teacher-btn { background: white; color: var(--primary-dark); padding: 6px 12px; border-radius: var(--radius); font-weight: 500; border: none; }
  #teacher-btn:hover { background: #f1f5f9; }
  .hidden { display: none; }
</style>
</head>
<body>

<header>
  <h1>Focus Academy - Matem√†tiques</h1>
  <button id="teacher-btn" onclick="toggleTeacherPanel()">üë©‚Äçüè´ Professor</button>
</header>

<main>
  <section id="topics-section">
    <h2>Temes de Matem√†tiques</h2>
    <div class="topics" id="topics-list"></div>
  </section>

  <section id="quiz-section" class="hidden">
    <h2 id="quiz-title"></h2>
    <div id="quiz-container" class="box"></div>
    <div id="quiz-result" class="box hidden"></div>
    <button id="back-btn" class="hidden" onclick="backToMenu()">Tornar al men√∫</button>
  </section>

  <section id="teacher-panel" class="box hidden">
    <h2>Creador d'ex√†mens</h2>
    <input type="password" id="teacher-code" placeholder="Codi professor">
    <button onclick="loginTeacher()">Entrar</button>
    <div id="exam-creator" class="hidden">
      <button onclick="createExam()">Crear nou examen</button>
      <p id="exam-code-output"></p>
    </div>
  </section>
</main>

<script>
  const PROFESSOR_CODE = "secret123";
  let currentExamCode = "";

  const questionBank = {
    "Aritm√®tica": [
      { q: "5 + 7 = ?", choices: [12, 13, 10, 11], correct: 12 },
      { q: "15 - 9 = ?", choices: [7, 6, 5, 4], correct: 6 },
      { q: "8 √ó 3 = ?", choices: [24, 26, 22, 28], correct: 24 },
      { q: "20 √∑ 4 = ?", choices: [5, 4, 6, 8], correct: 5 },
      { q: "9 + 6 = ?", choices: [14, 16, 15, 13], correct: 15 }
    ],
    "Geometria": [
      { q: "Quants costats t√© un hex√†gon?", choices: [5, 6, 7, 8], correct: 6 },
      { q: "La suma d'angles d'un triangle √©s...", choices: ["90¬∞", "180¬∞", "270¬∞", "360¬∞"], correct: "180¬∞" },
      { q: "Un rectangle t√©...", choices: ["4 costats iguals", "2 parelles de costats iguals", "3 costats iguals", "cap costat igual"], correct: "2 parelles de costats iguals" },
      { q: "El radi √©s...", choices: ["Meitat del di√†metre", "El di√†metre", "Un costat del quadrat", "Un tipus d'angle"], correct: "Meitat del di√†metre" },
      { q: "Quants graus t√© un angle recte?", choices: ["45¬∞", "90¬∞", "180¬∞", "360¬∞"], correct: "90¬∞" }
    ],
    "√Älgebra": [
      { q: "Si x = 3, quant √©s 2x + 5?", choices: [11, 10, 12, 9], correct: 11 },
      { q: "Resol: 3x = 12", choices: [3, 4, 5, 6], correct: 4 },
      { q: "Simplifica: 4x + 2x", choices: ["6x", "8x", "2x", "x"], correct: "6x" },
      { q: "Si x = 2, quant √©s x¬≤?", choices: [2, 4, 6, 8], correct: 4 },
      { q: "Factoritza: x¬≤ + 3x", choices: ["x(x+3)", "x(x-3)", "(x+1)(x+3)", "No es pot"], correct: "x(x+3)" }
    ]
  };

  const topicsList = document.getElementById("topics-list");
  for (let topicName in questionBank) {
    const div = document.createElement("div");
    div.className = "topic";
    div.innerText = topicName;
    div.onclick = () => startQuiz(topicName);
    topicsList.appendChild(div);
  }

  function startQuiz(topicName) {
    document.getElementById("topics-section").classList.add("hidden");
    document.getElementById("quiz-title").innerText = topicName;
    const quizDiv = document.getElementById("quiz-container");
    quizDiv.innerHTML = "";
    const questions = questionBank[topicName];
    let score = 0;
    let answered = 0;

    questions.forEach((q, idx) => {
      const div = document.createElement("div");
      div.className = "quiz-question";
      div.innerHTML = `<strong>${idx + 1}.</strong> ${q.q}`;
      const choicesDiv = document.createElement("div");
      choicesDiv.className = "choices";
      q.choices.forEach(c => {
        const btn = document.createElement("button");
        btn.innerText = c;
        btn.onclick = () => {
          if (!btn.classList.contains("correct") && !btn.classList.contains("wrong")) {
            if (c === q.correct) { btn.classList.add("correct"); score++; }
            else btn.classList.add("wrong");
            answered++;
            if (answered === questions.length) {
              showResult(score, questions.length);
            }
          }
        };
        choicesDiv.appendChild(btn);
      });
      div.appendChild(choicesDiv);
      quizDiv.appendChild(div);
    });

    document.getElementById("quiz-section").classList.remove("hidden");
  }

  function showResult(score, total) {
    const resultDiv = document.getElementById("quiz-result");
    resultDiv.innerHTML = `<h3>Puntuaci√≥ final: ${score}/${total}</h3>`;
    resultDiv.classList.remove("hidden");
    document.getElementById("back-btn").classList.remove("hidden");
  }

  function backToMenu() {
    document.getElementById("quiz-section").classList.add("hidden");
    document.getElementById("quiz-result").classList.add("hidden");
    document.getElementById("back-btn").classList.add("hidden");
    document.getElementById("topics-section").classList.remove("hidden");
  }

  function toggleTeacherPanel() {
    document.getElementById("teacher-panel").classList.toggle("hidden");
  }

  function loginTeacher() {
    const code = document.getElementById("teacher-code").value;
    if (code === PROFESSOR_CODE) {
      document.getElementById("exam-creator").classList.remove("hidden");
    } else {
      alert("Codi incorrecte");
    }
  }

  function createExam() {
    currentExamCode = Math.random().toString(36).substr(2, 4).toUpperCase() + "-" + Math.floor(1000 + Math.random() * 9000);
    document.getElementById("exam-code-output").innerText = "Codi d'examen: " + currentExamCode;
  }
</script>
</body>
</html>
