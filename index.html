<!DOCTYPE html>
<html lang="ca" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Focus Academy ¬∑ Matem√†tiques</title>
  <meta name="description" content="Pr√†ctiques de matem√†tiques tipus ThatQuiz per a estudiants. Single-file, sense depend√®ncies." />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- HEADER: sticky + blur + brand + nav + toggle tema -->
  <header class="site-header">
    <div class="wrap row header-inner">
      <div class="brand">
        <div class="logo" aria-hidden="true">üéì</div>
        <h1 class="brand-title">Focus Academy ¬∑ Aula Digital</h1>
      </div>
      <nav class="nav-actions">
        <button class="pill" onclick="showView('home')">Recursos</button>
        <button class="pill" onclick="showView('quiz')">Activitats</button>
        <button class="pill" onclick="showView('results')">Resultats</button>
        <button class="pill" onclick="showView('about')">Novetats</button>
        <button class="pill" onclick="window.location.href='teoria.html'">Teoria</button>
        <input id="studentName" class="input" placeholder="Nom de l'alumne/a" />
        <button id="themeToggle" class="theme-toggle" aria-label="Canvia tema">
          <span class="icon-sun" aria-hidden="true">‚òÄÔ∏è</span>
          <span class="icon-moon" aria-hidden="true">üåô</span>
          <span class="label">Fosc/Clar</span>
        </button>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <!-- HERO (equivalent al del prototip) -->
    <section id="view-home" class="hero">
      <div class="hero-grid">
        <div class="hero-left card panel">
          <h2 class="title hero-title">Apr√®n millor amb materials clars i activitats autocorrectives</h2>
          <p class="subtitle hero-subtitle">
            Plataforma unificada per a ESO i Batxillerat: teoria, dossiers, exercicis i proves tipus test.
            Tot pensat per estudiar en digital.
          </p>
          <div class="cta-row">
            <button class="btn" onclick="showView('home')">üìö Explora recursos</button>
            <button class="btn-outline" onclick="showView('quiz')">üöÄ Prova activitats</button>
          </div>

          <div class="section-title">M√≤duls de matem√†tiques</div>
          <div class="filters-row">
            <!-- exemples de filtres visuals (opcionales, per si els vols activar m√©s endavant) -->
            <label class="chip">Assignatura
              <select disabled>
                <option>Matem√†tiques</option>
              </select>
            </label>
            <label class="chip">Nivell
              <select disabled>
                <option>Tots</option>
              </select>
            </label>
            <label class="chip search-chip">
              <svg class="search-ico" viewBox="0 0 24 24" width="16" height="16" aria-hidden="true"><path d="M21 21l-4.3-4.3m1.6-4.1a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
              <input class="input" placeholder="Cerca t√≠tol, contingut o etiqueta‚Ä¶" disabled />
            </label>
          </div>

          <div class="grid cards-grid" id="moduleGrid"></div>
        </div>

        <aside class="hero-right card panel">
          <div class="levels-grid">
            <div class="level-card"><p class="muted">Nivell</p><p class="strong">1r ESO</p></div>
            <div class="level-card"><p class="muted">Nivell</p><p class="strong">2n ESO</p></div>
            <div class="level-card"><p class="muted">Nivell</p><p class="strong">3r ESO</p></div>
            <div class="level-card"><p class="muted">Nivell</p><p class="strong">4t ESO</p></div>
            <div class="level-card"><p class="muted">Nivell</p><p class="strong">1r Batx</p></div>
            <div class="level-card"><p class="muted">Nivell</p><p class="strong">2n Batx</p></div>
          </div>
        </aside>
      </div>
    </section>

    <!-- CONFIG (mantinguda, nom√©s estil) -->
    <section id="view-config" class="hidden">
      <div class="panel card">
        <div class="row row-center">
          <div>
            <h2 class="title" id="cfg-title">Configura el m√≤dul</h2>
            <p class="subtitle" id="cfg-desc"></p>
          </div>
          <div class="controls">
            <button class="btn-outline" onclick="showView('home')">‚Üê Torna</button>
            <button class="btn" onclick="startFromConfig()">Comen√ßa</button>
          </div>
        </div>

        <div class="section-title">Opcions comunes</div>
        <div class="controls">
          <label class="field chip">Preguntes
            <select id="cfg-count">
              <option>10</option><option>20</option><option>30</option><option>50</option>
            </select>
          </label>
          <label class="field chip">Temps (min)
            <select id="cfg-time">
              <option value="0">Sense l√≠mit</option><option>5</option><option>10</option><option>15</option><option>20</option>
            </select>
          </label>
          <label class="field chip">Nivell (1‚Äì4)
            <select id="cfg-level"></select>
          </label>
        </div>

        <div id="cfg-specific"></div>
      </div>
    </section>

    <!-- QUIZ (est√®tica targetes + progress bar) -->
    <section id="view-quiz" class="hidden">
      <div class="quiz">
        <div class="panel card">
          <div class="q-header">
            <div class="q-badges">
              <span id="qModule" class="badge">M√≤dul</span>
              <span id="qLevel" class="chip">Nivell 1</span>
              <span id="timer" class="chip timer">--:--</span>
            </div>
            <div class="progress"><i id="bar"></i></div>
          </div>

          <div class="q">
            <div class="meta" id="qMeta">Pregunta 1 de 10</div>
            <h2 id="qText">‚Äî</h2>
            <div id="qMedia" class="q-media"></div>
            <div class="answer-row">
              <input id="answer" class="input answer" placeholder="Resposta" inputmode="decimal" />
              <button id="btnCheck" class="btn">Comprova (‚Üµ)</button>
              <button class="btn-outline" id="btnSkip">Omet (‚Üí)</button>
            </div>
            <div id="feedback" class="feedback"></div>
          </div>
        </div>

        <div class="panel card">
          <h3 class="title" style="margin-top:0">Teclat num√®ric</h3>
          <div class="board">
            <button onclick="typeKey('7')">7</button>
            <button onclick="typeKey('8')">8</button>
            <button onclick="typeKey('9')">9</button>
            <button onclick="typeKey('4')">4</button>
            <button onclick="typeKey('5')">5</button>
            <button onclick="typeKey('6')">6</button>
            <button onclick="typeKey('1')">1</button>
            <button onclick="typeKey('2')">2</button>
            <button onclick="typeKey('3')">3</button>
            <button onclick="typeKey('0')">0</button>
            <button onclick="typeKey('-')">¬±</button>
            <button onclick="typeKey('del')">‚å´</button>
          </div>
          <div class="kbd-hint">
            <span class="kbd">‚Üµ</span> <span class="subtitle">comprova</span>
            <span class="kbd">‚Üí</span> <span class="subtitle">omet</span>
          </div>
        </div>
      </div>
    </section>

    <!-- RESULTS -->
    <section id="view-results" class="hidden">
      <div class="panel card">
        <div class="row">
          <h3 class="title" style="margin:0">Resultats guardats</h3>
          <div class="tbl-actions">
            <button class="btn-outline" onclick="exportCSV()">Exporta CSV</button>
            <button class="btn-ghost" onclick="clearResults()">Neteja</button>
          </div>
        </div>
        <div class="filters-row">
          <label class="chip">Filtra m√≤dul: <select id="filter-module"></select></label>
          <label class="chip">Alumne/a: <input id="filter-student" class="input" placeholder="Tots" style="width:160px"></label>
        </div>
        <div id="resultsTable" class="results-table">No hi ha dades encara.</div>
      </div>
    </section>

    <!-- ABOUT -> NOVETATS (com al prototip) -->
    <section id="view-about" class="hidden">
      <div class="panel card">
        <h3 class="title" style="margin-top:0">Novetats</h3>
        <ul class="news">
          <li>‚Ä¢ Afegit m√≤dul d‚Äôactivitats r√†pides amb correcci√≥ immediata.</li>
          <li>‚Ä¢ Filtre per nivell i assignatura als recursos.</li>
          <li>‚Ä¢ Mode clar/fosc i estil actualitzat.</li>
        </ul>
        <p class="subtitle muted">Web single-file creada per Focus Academy. Inspirada en ThatQuiz, sense comptes ni depend√®ncies. Dades locals al navegador.</p>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="site-footer wrap">
      <div>Fet amb ‚ù§Ô∏è per Focus Academy ¬∑ ¬© <span id="year"></span></div>
      <img src="https://static.wixstatic.com/media/543803_e8b22e64a34945f9ba54d4ca39fa3645~mv2.png/v1/crop/x_836,y_591,w_1877,h_1328/fill/w_642,h_454,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/543803_e8b22e64a34945f9ba54d4ca39fa3645~mv2.png"
           alt="Logo Focus Academy" class="footer-logo"
           referrerpolicy="no-referrer" />
    </footer>
  </main>

  <!-- El teu JS original -->
  <script src="main.js" defer></script>

  <!-- Mini-script per a tema i any (no substitueix main.js) -->
  <script>
    (function () {
      const root = document.documentElement;
      const saved = localStorage.getItem('fa-theme');
      if (saved) root.setAttribute('data-theme', saved);
      document.getElementById('year').textContent = new Date().getFullYear();
      const btn = document.getElementById('themeToggle');
      if (btn) {
        btn.addEventListener('click', () => {
          const current = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
          root.setAttribute('data-theme', current);
          localStorage.setItem('fa-theme', current);
        });
      }
    })();
  </script>
</body>
</html>
