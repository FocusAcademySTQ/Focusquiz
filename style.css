:root{
  /* Paleta neó cibernètica (base fosc) */
  --bg: #0a0a16;
  --card: #121226;
  --ink: #e0e0ff;
  --muted: #7070c0;
  --primary: #ff2a6d;
  --accent: #05d9e8;
  --ok: #00ff9d;
  --bad: #ff3867;
  --warn: #ffde3d;

  /* Estètica ciberpunk */
  --radius: 8px;
  --radius-lg: 12px;
  --shadow: 0 0 15px rgba(255, 42, 109, 0.4);
  --shadow-soft: 0 0 10px rgba(5, 217, 232, 0.3);
  --hair: #25254c;
  --focus: 0 0 0 3px rgba(255, 42, 109, 0.7);
  --ring: 0 0 10px rgba(255, 42, 109, 0.5);

  /* Gradients i efectes neònics */
  --aurora-1: linear-gradient(120deg, #0a0a16 0%, #1a1a3a 100%);
  --aurora-2: linear-gradient(135deg, rgba(255, 42, 109, 0.3), rgba(5, 217, 232, 0.3));
  --glass: rgba(18, 18, 38, 0.8);
  --glass-strong: rgba(30, 30, 60, 0.9);

  /* Il·luminacions neòniques */
  --glow-primary: 0 0 20px rgba(255, 42, 109, 0.7);
  --glow-accent: 0 0 20px rgba(5, 217, 232, 0.7);
  --grid-gap: 16px;

  /* Tipografia tecnològica */
  --font-ui: 'Share Tech Mono', 'Courier New', monospace;
}

*{box-sizing:border-box}
html,body{height:100%}
@media (prefers-reduced-motion: reduce){
  *{animation: none !important; transition: none !important; scroll-behavior: auto !important;}
}

body{
  margin:0; font-family: var(--font-ui);
  color:var(--ink);
  background:
    radial-gradient(circle at 10% 20%, rgba(255, 42, 109, 0.15) 0%, transparent 30%),
    radial-gradient(circle at 90% 80%, rgba(5, 217, 232, 0.15) 0%, transparent 30%),
    var(--bg);
  line-height: 1.6;
}

/* ===== Header "Cyber Glass" ===== */
header{
  position:sticky; top:0; z-index:50;
  backdrop-filter: blur(12px) contrast(1.2);
  -webkit-backdrop-filter: blur(12px) contrast(1.2);
  background:var(--glass);
  border-bottom:1px solid var(--primary);
  box-shadow: 0 0 15px rgba(255, 42, 109, 0.3);
}
.wrap{max-width:1100px; margin:0 auto; padding: clamp(14px, 2vw, 24px);}
.brand{display:flex; align-items:center; gap:12px;}
.logo{
  width:40px;height:40px; display:grid; place-items:center; border-radius:10px;
  background: linear-gradient(135deg, var(--primary), var(--accent));
  box-shadow: var(--glow-primary); 
  color:#0a0a16; 
  font-weight:900;
  font-family: monospace;
  position:relative; 
  overflow:hidden;
  border: 1px solid var(--accent);
}
.logo::after{
  content:""; position:absolute; inset:0; border-radius:inherit;
  background: radial-gradient(60px 30px at 20% 20%, rgba(255,255,255,.7), transparent 50%);
  pointer-events:none;
}
.brand h1{
  font-size:1.1rem; 
  margin:0; 
  letter-spacing:1px;
  text-shadow: 0 0 10px var(--primary);
  font-weight: 400;
}
nav{display:flex; gap:8px; flex-wrap:wrap}
.row{display:flex; justify-content:space-between; align-items:center; gap:12px}

/* Pills amb estil neònic */
.pill{
  border:1px solid var(--primary); 
  color:var(--ink); 
  background:transparent;
  padding:10px 16px; 
  border-radius:20px; 
  cursor:pointer; 
  transition:all 0.3s ease; 
  font-weight:400; 
  font-size:.9rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  overflow: hidden;
}
.pill:hover{
  background: var(--primary);
  color: #0a0a16;
  box-shadow: var(--glow-primary);
  transform: translateY(-2px);
}
.pill:focus-visible{
  outline:none; 
  box-shadow: var(--ring);
}

.right{display:flex; align-items:center; gap:10px}
.input, select{
  background:rgba(10, 10, 22, 0.7); 
  border:1px solid var(--hair); 
  color:var(--ink);
  border-radius:8px; 
  padding:10px 12px; 
  outline:none; 
  font-size:.95rem; 
  transition:.2s;
  font-family: var(--font-ui);
}
.input:focus, select:focus{
  box-shadow:var(--focus); 
  border-color:var(--primary);
}

/* ===== Layout principal i targetes ===== */
main{padding: 28px 0 60px}
.hero{display:grid; grid-template-columns: 1fr; gap:20px}
.panel{
  background: var(--card);
  border:1px solid var(--primary);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  position:relative; 
  overflow:hidden;
}
.panel::before{
  content:""; 
  position:absolute; 
  inset:0;
  background: linear-gradient(125deg, rgba(255, 42, 109, 0.1), rgba(5, 217, 232, 0.1));
  pointer-events:none;
}
.card{padding: clamp(16px, 2.2vw, 26px)}
.title{
  font-size: clamp(1.3rem, 2.6vw, 2rem); 
  margin:0 0 10px;
  color: var(--accent);
  text-shadow: 0 0 10px rgba(5, 217, 232, 0.5);
  font-weight: 400;
}
.subtitle{
  color:var(--muted); 
  margin:0 0 18px;
  font-size: 1rem;
}

.grid{
  display:grid; 
  grid-template-columns: repeat(4, 1fr); 
  gap:var(--grid-gap);
}
@media (max-width: 1000px){ .grid{grid-template-columns: repeat(2, 1fr)} }
@media (max-width: 560px){ .grid{grid-template-columns: 1fr} }

/* ===== Opcions estil "Cyber Grid" ===== */
.option{
  position:relative; 
  overflow:hidden; 
  padding:20px; 
  border-radius:12px; 
  cursor:pointer;
  border:1px solid var(--primary); 
  transition:all 0.3s ease;
  background: linear-gradient(145deg, #131329, #0f0f23);
  box-shadow: 0 0 15px rgba(255, 42, 109, 0.2);
}
.option::before{
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(to right, var(--primary), var(--accent));
  transform: translateY(-3px);
  transition: transform 0.3s ease;
}
.option::after{
  content:""; 
  position:absolute; 
  inset:0;
  background: 
    radial-gradient(60% 40% at 0% 0%, rgba(255, 42, 109, 0.15), transparent 45%),
    radial-gradient(50% 30% at 100% 100%, rgba(5, 217, 232, 0.15), transparent 40%);
  opacity:.7; 
  pointer-events:none;
}
.option:hover{
  transform: translateY(-5px);
  box-shadow: 0 0 25px rgba(255, 42, 109, 0.4);
}
.option:hover::before{
  transform: translateY(0);
}
.option h3{
  margin:8px 0 6px; 
  font-size:1.1rem;
  color: var(--accent);
}
.option p{
  margin:0; 
  color:var(--muted); 
  font-size:.9rem;
  line-height: 1.5;
}
.badge{
  font-size:.75rem; 
  color:#0a0a16; 
  font-weight:700; 
  letter-spacing:.5px;
  background:linear-gradient(135deg, var(--primary), var(--accent)); 
  padding:6px 12px; 
  border-radius:15px; 
  display:inline-block;
  text-transform: uppercase;
}

/* Seccions i controls */
.section-title{
  margin: 18px 0 8px; 
  font-size:1.1rem; 
  color:var(--accent); 
  letter-spacing:.5px;
  text-transform: uppercase;
  font-weight: 400;
}
.controls{
  display:flex; 
  gap:10px; 
  flex-wrap:wrap; 
  align-items:center;
}
.controls .field{
  display:flex; 
  align-items:center; 
  gap:8px;
}
.controls .group{
  display:flex; 
  gap:8px; 
  flex-wrap:wrap;
}

/* ===== Estètica Cyber Toggles ===== */
#cfg-specific .toggle {
  display: inline-flex; 
  align-items: center; 
  gap: 10px;
  padding: 8px 18px; 
  margin: 4px 9px 4px 0;
  background: rgba(10, 10, 22, 0.7); 
  color: var(--ink);
  border-radius: 20px; 
  border: 1px solid var(--primary);
  font-weight: 400; 
  font-size: 1em;
  box-shadow: 0 0 10px rgba(255, 42, 109, 0.2);
  cursor: pointer;
  transition: all 0.3s ease;
  user-select: none;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
#cfg-specific .toggle:hover,
#cfg-specific .toggle:focus-within{
  background: var(--primary); 
  border-color: var(--primary); 
  color: #0a0a16;
  box-shadow: 0 0 20px rgba(255, 42, 109, 0.5);
  transform: translateY(-2px);
}
#cfg-specific .toggle .check{
  accent-color: var(--accent);
  width: 1.15em; 
  height: 1.15em;
  background: rgba(10, 10, 22, 0.7); 
  border-radius: 50%; 
  border: 1.5px solid var(--primary); 
  margin: 0; 
  flex-shrink: 0;
  transition: all 0.3s ease;
}
#cfg-specific .toggle input:checked + span,
#cfg-specific .toggle input:checked{ 
  filter: drop-shadow(0 0 3px var(--accent)); 
}
#cfg-specific .group{ 
  display:flex; 
  flex-wrap:wrap; 
  gap:8px; 
  margin-bottom:.7em;
}
#cfg-specific .controls{ 
  margin-bottom:1.1em;
}

/* Toggles genèrics */
.toggle{
  display:inline-flex; 
  align-items:center; 
  gap:8px; 
  padding:8px 12px; 
  border:1px solid var(--primary); 
  border-radius:12px; 
  background:rgba(10, 10, 22, 0.7); 
  transition:.3s;
}
.toggle:focus-visible{
  outline:none; 
  box-shadow: var(--ring);
}
.check{
  width:18px; 
  height:18px;
}

/* ===== Botons: Estil Cyber ===== */
button{
  background: linear-gradient(135deg, var(--primary), #ff2a6d);
  color:#0a0a16; 
  border: none; 
  padding:12px 18px; 
  border-radius:8px; 
  font-weight:700; 
  cursor:pointer;
  box-shadow: 0 0 15px rgba(255, 42, 109, 0.4);
  transition: all 0.3s ease;
  font-family: var(--font-ui);
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  overflow: hidden;
}
button:hover{ 
  transform: translateY(-3px); 
  box-shadow: 0 0 25px rgba(255, 42, 109, 0.7); 
}
button:active{ 
  transform: translateY(0); 
  filter: brightness(1.2); 
}
button:focus-visible{ 
  outline: none; 
  box-shadow: var(--ring), 0 0 20px rgba(255, 42, 109, 0.7); 
}
.btn-secondary{
  background:transparent; 
  border:1px solid var(--accent); 
  color:var(--accent);
  box-shadow: 0 0 15px rgba(5, 217, 232, 0.3);
}
.btn-secondary:hover{
  background: var(--accent);
  color: #0a0a16;
  box-shadow: 0 0 25px rgba(5, 217, 232, 0.7);
}
.btn-ghost{
  background: transparent; 
  border:1px dashed var(--muted); 
  color:var(--muted); 
  font-weight:400;
  box-shadow: none;
}
.btn-ghost:hover{
  border:1px solid var(--accent);
  color: var(--accent);
  box-shadow: 0 0 15px rgba(5, 217, 232, 0.3);
}
.hidden{display:none}

/* ===== Quiz ===== */
.quiz{
  display:grid; 
  grid-template-columns: 1.1fr .9fr; 
  gap:18px;
}
@media (max-width: 1000px){ 
  .quiz{
    grid-template-columns: 1fr;
  } 
}
.q-header{
  display:flex; 
  align-items:center; 
  justify-content:space-between; 
  gap:10px;
  padding: 10px;
  background: rgba(10, 10, 22, 0.7);
  border-radius: var(--radius);
  border: 1px solid var(--primary);
}
.progress{
  height: 10px; 
  background: rgba(255, 42, 109, 0.2); 
  border-radius:999px; 
  overflow:hidden; 
  position:relative;
}
.progress > i{
  display:block; 
  height:100%; 
  width:0%;
  background: linear-gradient(90deg, var(--primary), var(--accent));
  box-shadow: var(--glow-primary);
  transition: width .35s ease;
}
.q{
  display:grid; 
  gap:12px;
}
.q h2{
  font-size: clamp(1.4rem, 2.8vw, 2.2rem); 
  margin:6px 0;
  color: var(--accent);
}
.q .meta{
  color:var(--muted); 
  font-size:.95rem;
}
.answer-row{
  display:flex; 
  gap:10px; 
  align-items:center;
}
.answer{
  flex:1; 
  font-size:1.2rem;
  background: rgba(10, 10, 22, 0.7);
  border: 1px solid var(--primary);
  color: var(--ink);
  padding: 12px;
  border-radius: 8px;
  font-family: var(--font-ui);
}

.kbd{
  display:inline-grid; 
  place-items:center; 
  min-width:46px; 
  height:46px; 
  border-radius:8px;
  background:rgba(10, 10, 22, 0.7); 
  border:1px solid var(--primary); 
  font-weight:700; 
  color:var(--ink);
  box-shadow: 0 0 10px rgba(255, 42, 109, 0.3);
  font-family: var(--font-ui);
}

/* Tauler i feedback */
.board{
  display:grid; 
  grid-template-columns: repeat(3, 1fr); 
  gap:10px;
}
.board button{
  height:50px;
  font-size: 1.2rem;
}

.feedback{
  padding:12px; 
  border-radius:8px; 
  background: rgba(0, 255, 157, 0.1); 
  border:1px solid var(--ok); 
  color:var(--ok);
  box-shadow: 0 0 10px rgba(0, 255, 157, 0.3);
}
.feedback.bad{
  background: rgba(255, 56, 103, 0.1); 
  border-color: var(--bad); 
  color:var(--bad);
  box-shadow: 0 0 10px rgba(255, 56, 103, 0.3);
}

/* Chips & timer */
.timer{
  font-variant-numeric: tabular-nums; 
  font-feature-settings:"tnum" on; 
  font-size:1.2rem;
  color: var(--accent);
  text-shadow: 0 0 5px var(--accent);
}
.chip{
  border:1px solid var(--primary); 
  color:var(--ink); 
  padding:6px 12px; 
  border-radius:20px; 
  background:rgba(10, 10, 22, 0.7);
  box-shadow: 0 0 10px rgba(255, 42, 109, 0.2);
}

/* ===== Resultats ===== */
table{
  width:100%; 
  border-collapse:collapse; 
  overflow:hidden; 
  border-radius:12px;
  border: 1px solid var(--primary);
}
th, td{
  padding:12px 15px; 
  border-bottom:1px solid var(--hair); 
  text-align:left;
}
th{
  color:var(--accent); 
  font-weight:700; 
  background: rgba(255, 42, 109, 0.1);
  text-transform: uppercase;
  letter-spacing: 1px;
}
tr:hover td{
  background: rgba(255, 42, 109, 0.05);
}
.tbl-actions{
  display:flex; 
  gap:8px;
}

/* ===== Footer ===== */
footer{
  opacity:.95; 
  font-size:.9rem; 
  padding:40px 0 60px; 
  color:var(--muted);
  text-align: center;
  border-top: 1px solid var(--primary);
  margin-top: 40px;
}
.link{
  color:var(--accent); 
  text-decoration:none;
  text-shadow: 0 0 5px var(--accent);
}
.link:hover{
  text-decoration:underline;
}

/* ===== Microanimacions ===== */
.pulse{
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%{
    opacity:.6; 
    box-shadow: 0 0 5px var(--primary);
  }
  50%{
    opacity:1; 
    box-shadow: 0 0 20px var(--primary);
  }
  100%{
    opacity:.6; 
    box-shadow: 0 0 5px var(--primary);
  }
}
.fade-in{ 
  animation: fade .45s ease both;
}
@keyframes fade { 
  from{
    opacity:0; 
    transform: translateY(10px);
  } 
  to{
    opacity:1; 
    transform:none;
  } 
}

/* ===== Modal "Cyber" ===== */
.modal{
  position:fixed; 
  inset:0; 
  background:rgba(5, 5, 15, 0.9);
  -webkit-backdrop-filter: blur(8px) contrast(1.2);
  backdrop-filter: blur(8px) contrast(1.2);
  display:grid; 
  place-items:center; 
  z-index:100;
}
.modal-inner{
  width:min(92vw, 820px);
  background: var(--card);
  border:1px solid var(--primary);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow);
}

/* ===== Etiquetes SVG llegibles ===== */
.svg-label{
  font-size:13px; 
  fill:#e0e0ff;
  paint-order: stroke; 
  stroke:#0a0a16; 
  stroke-width:6px; 
  stroke-linejoin:round;
}

/* ===== Focus visibles globals ===== */
:where(a, button, input, select, .pill, .toggle, .option):focus-visible{
  outline:none; 
  box-shadow: var(--ring);
}

/* ===== Efecte de scanner ===== */
@keyframes scan {
  0% {
    background-position: 0 -100%;
  }
  100% {
    background-position: 0 200%;
  }
}

.scanner-effect {
  position: relative;
  overflow: hidden;
}

.scanner-effect::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    transparent,
    rgba(255, 42, 109, 0.3),
    transparent
  );
  animation: scan 3s linear infinite;
  pointer-events: none;
}

/* ===== Petits refinaments finals ===== */
header .wrap, main .wrap, footer .wrap{ 
  animation: fade .45s ease both;
}
button .icon, .pill .icon{ 
  display:inline-grid; 
  place-items:center; 
  width:1.2em; 
  height:1.2em;
}
.progress[data-anim="true"] > i{ 
  animation: progstripe 1.2s linear infinite; 
  background-image: 
    linear-gradient(90deg, rgba(255,255,255,.15) 0 10px, transparent 10px 20px), 
    linear-gradient(90deg, var(--primary), var(--accent)); 
  background-size: 20px 100%, 100% 100%; 
}
@keyframes progstripe{ 
  from{ 
    background-position: 0 0, 0 0; 
  } 
  to{ 
    background-position: 20px 0, 0 0; 
  } 
}

/* Efecte de línies de grid al fons */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    linear-gradient(90deg, rgba(255, 42, 109, 0.05) 1px, transparent 1px),
    linear-gradient(180deg, rgba(255, 42, 109, 0.05) 1px, transparent 1px);
  background-size: 20px 20px;
  pointer-events: none;
  z-index: -1;
}
