<!doctype html>
<html lang="ca">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Focus Reptes ¬∑ Tira-corda matem√†tic</title>
  <link rel="stylesheet" href="../style.css" />
  <style>
    body{background:#eef2ff}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .hero{background:#fff;border:1px solid #d8e1ff;border-radius:16px;padding:14px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .field{display:grid;gap:4px}
    .field select,.field input{padding:8px;border:1px solid #c7d3f4;border-radius:8px}
    .cfg-box{background:#f7f9ff;border:1px solid #dbe4ff;border-radius:12px;padding:10px;margin-top:10px}
    .hud{display:grid;grid-template-columns:1fr auto 1fr;gap:10px;align-items:center;margin:12px 0}
    .score{padding:8px 10px;border-radius:10px;background:#f2f4f8;display:flex;justify-content:space-between}
    .blue{border:1px solid #a8c6ff;color:#1a4fa7}.red{border:1px solid #ffc2c8;color:#a31f36}
    .timer{background:#111827;color:#fff;padding:8px 12px;border-radius:999px;font-weight:700}
    .track{position:relative;height:56px;border:1px solid #d6def3;border-radius:999px;background:linear-gradient(90deg,rgba(36,94,187,.1),#fff,rgba(206,39,62,.1));overflow:hidden}
    .rope{position:absolute;left:7%;right:7%;top:50%;height:10px;transform:translateY(-50%);border-radius:999px;background:repeating-linear-gradient(90deg,#8c5b2c 0 12px,#b27b45 12px 24px)}
    .flag{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:22px;height:22px;border:3px solid #4a63d1;border-radius:50%;background:#eef3ff;transition:left .25s}
    .puller{position:absolute;top:50%;transform:translateY(-50%);font-size:30px}.puller.b{left:8px}.puller.r{right:8px}
    .teams{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
    .team{border:1px solid #d8e2fb;background:#fbfdff;border-radius:12px;padding:10px}
    .q{font-size:1.2rem;font-weight:800;min-height:1.5em}
    .feedback{min-height:1.2em;font-size:.95rem}
    .input{padding:8px;border:1px dashed #b8c7ee;border-radius:8px;background:#f3f7ff}
    .k{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin-top:8px}
    .k button{padding:8px;border:1px solid #c6d4f7;border-radius:8px;background:#fff;font-weight:700}
    .k .send{grid-column:span 2;background:#2a52ca;color:#fff;border-color:#2a52ca}
    .opts{display:grid;gap:6px;margin-top:6px}
    .opts button{padding:8px;border:1px solid #c6d4f7;border-radius:8px;background:#fff;text-align:left}
    @media(max-width:900px){.teams{grid-template-columns:1fr}.hud{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <main class="wrap">
    <section class="hero">
      <div class="row" style="justify-content:space-between">
        <h1 style="margin:0">ü™¢ Reptes ¬∑ Tira-corda matem√†tic</h1>
        <a class="btn-secondary" href="../app.html">‚Üê Tornar a app</a>
      </div>

      <div class="cfg-box">
        <div class="row">
          <label class="field">M√≤dul
            <select id="moduleSelect"></select>
          </label>
          <label class="field">Punts per guanyar
            <input id="pointsToWin" type="number" min="1" max="50" value="6" />
          </label>
          <label class="field">Preguntes per punt
            <input id="questionsPerPoint" type="number" min="1" max="20" value="2" />
          </label>
          <label class="field">Nivell
            <select id="level"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select>
          </label>
        </div>
        <div id="moduleConfig" class="cfg-box" style="margin-top:8px"></div>
        <div class="row" style="margin-top:8px">
          <label class="field">Equip blau<input id="blueName" value="Equip blau" /></label>
          <label class="field">Equip vermell<input id="redName" value="Equip vermell" /></label>
          <button id="startBtn" class="pill">Comen√ßa partida</button>
        </div>
      </div>

      <div class="hud">
        <div class="score blue"><strong id="blueLabel">Equip blau</strong><span>üèÅ <span id="blueScore">0</span></span></div>
        <div class="timer" id="timer">02:00</div>
        <div class="score red"><strong id="redLabel">Equip vermell</strong><span>üèÅ <span id="redScore">0</span></span></div>
      </div>

      <div class="track">
        <div class="puller b">üßç‚Äç‚ôÇÔ∏è</div><div class="puller r">üßç‚Äç‚ôÄÔ∏è</div>
        <div class="rope"></div><div class="flag" id="flag"></div>
      </div>

      <div class="teams">
        <section class="team">
          <h3 id="blueTitle">Equip blau</h3>
          <div class="q" id="qBlue">Configura i comen√ßa‚Ä¶</div>
          <div class="feedback" id="fBlue">‚Äî</div>
          <div class="input" id="inBlue">0</div>
          <div id="optsBlue" class="opts"></div>
          <div id="kpBlue" class="k"></div>
        </section>
        <section class="team">
          <h3 id="redTitle">Equip vermell</h3>
          <div class="q" id="qRed">Configura i comen√ßa‚Ä¶</div>
          <div class="feedback" id="fRed">‚Äî</div>
          <div class="input" id="inRed">0</div>
          <div id="optsRed" class="opts"></div>
          <div id="kpRed" class="k"></div>
        </section>
      </div>
    </section>
  </main>

  <script>
    window._mods=[]; window.addModules=(m)=>Array.isArray(m)&&window._mods.push(...m);
    const getMods=()=>window._mods.slice();
  </script>
  <script src="../math.js"></script>
  <script src="../lang-cat.js"></script>
  <script src="reptes.js"></script>
</body>
</html>
