    /* ===== Reptes: Joc de la corda ===== */
    .challenge-section { margin-top: 1rem; }
    .challenge-wrap { border: 1px solid #d7dff5; border-radius: 18px; padding: 1rem; background: #fff; position: relative; overflow: hidden; }
    .challenge-wrap[hidden] { display:none; }
    .challenge-header { display: grid; gap: .4rem; margin-bottom: .9rem; }
    .challenge-header h2 { margin: 0; }
    .challenge-menu { display: flex; flex-wrap: wrap; gap: .5rem; margin-bottom: 1rem; }
    .challenge-chip { border: 1px solid #c8d3f6; background: #eef3ff; color: #24449a; border-radius: 999px; padding: .45rem .8rem; font-weight: 700; cursor:pointer; }
    .challenge-chip[aria-current="true"] { background:#dfe9ff; border-color:#5d7ce8; color:#17398f; }
    .challenge-chip[disabled] { opacity: .55; }

    .challenges-hero { border:1px solid #d8e0f4; border-radius:18px; background:#f8faff; padding:1rem; margin-bottom:1rem; }
    .challenges-hero h2 { margin:0; color:#1f4ea1; }
    .challenges-hero p { margin:.25rem 0 .85rem; }
    .challenges-cards { display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:.7rem; }
    .challenge-card { border:1px solid #ccd8f2; border-radius:14px; background:#fff; padding:.85rem; display:grid; gap:.25rem; }
    .challenge-card .icon { font-size:1.4rem; }
    .challenge-card h3 { margin:0; font-size:1rem; }
    .challenge-card p { margin:0; font-size:.9rem; color:#475467; }
    .challenge-card.is-soon { opacity:.65; }

    .ttm-mode-buttons { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:.45rem; margin-top:.6rem; }
    .ttm-mode-btn { border:1px solid #c4d2f2; background:#f5f8ff; border-radius:10px; padding:.6rem; font-weight:700; cursor:pointer; }
    .ttm-mode-btn.is-active { background:#e7efff; border-color:#5e7fe8; color:#1f3fa3; }
    .ttm-tour-field { margin-top:.55rem; display:grid; gap:.35rem; }
    .ttm-tour-field select, .ttm-tour-field textarea { border:1px solid #c8d4f0; border-radius:10px; padding:.55rem .65rem; font:inherit; }
    .ttm-tour-field textarea { min-height:110px; resize:vertical; }

    .ttm-modal { position: absolute; inset: 0; background: rgba(10, 16, 35, .72); display: grid; place-items: center; z-index: 10; }
    .ttm-modal[hidden] { display: none; }
    .ttm-card { width: min(700px, calc(100% - 2rem)); background: #fff; border-radius: 16px; padding: 1rem; box-shadow: 0 20px 40px rgba(16, 23, 46, .28); }
    .ttm-step { display: none; margin-top: .8rem; }
    .ttm-step.is-active { display: block; }
    .ttm-title { margin: 0; }
    .ttm-step-label { margin: 0 0 .2rem; color: #4863d9; font-weight: 700; font-size: .9rem; }
    .ttm-grid4 { display: grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap: .5rem; }
    .ttm-grid3 { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: .5rem; }
    .ttm-op, .ttm-level { border: 1px solid #c6d1f0; background: #f6f9ff; border-radius: 10px; padding: .65rem; font-weight: 700; cursor: pointer; transition: .2s ease; }
    .ttm-op:hover, .ttm-level:hover { transform: translateY(-1px); }
    .ttm-op.is-active { background: #e7eeff; border-color: #5472e4; color: #2e48ad; }
    .ttm-level.is-selected { background: #ffeecf; border-color: #f4b23f; }
    .ttm-team-inputs { display: grid; grid-template-columns: 1fr 1fr; gap: .8rem; }
    .ttm-team-inputs label { display: grid; gap: .35rem; font-weight: 600; }
    .ttm-team-inputs input { border: 1px solid #cbd7f6; border-radius: 10px; padding: .6rem .7rem; }
    .ttm-module-field { display: grid; gap: .35rem; margin-bottom: .65rem; font-weight: 600; }
    .ttm-module-field select { border: 1px solid #cbd7f6; border-radius: 10px; padding: .55rem .65rem; background: #fff; }
    .ttm-actions { margin-top: .9rem; display: flex; justify-content: space-between; gap: .5rem; }
    .ttm-error { min-height: 1.2rem; color: #b42318; margin-top: .4rem; }

    .ttm-titlebar { text-align: center; color: #1f73b8; font-weight: 900; letter-spacing: .04em; font-size: clamp(1.2rem, 2.4vw, 2rem); margin-bottom: .9rem; }
    .ttm-quick-actions { display:flex; justify-content:flex-end; margin-bottom:.45rem; }
    .ttm-exit-btn { border:1px solid #c8d3f6; background:#eef3ff; color:#24449a; border-radius:999px; padding:.4rem .8rem; font-weight:700; cursor:pointer; }
    .ttm-layout { display: grid; grid-template-columns: minmax(240px,1fr) minmax(360px,1.8fr) minmax(240px,1fr); gap: .9rem; align-items: stretch; }
    .ttm-arena { border: 1px solid #d9dfeb; border-radius: 16px; background: #ffffff; padding: .65rem; box-shadow: inset 0 0 0 1px #f3f5f9; }
    .ttm-hud { display: grid; grid-template-columns: 1fr auto 1fr; gap: .4rem; align-items: center; border-radius: 11px; background: #eceef2; padding: .55rem .7rem; margin-bottom: .6rem; }
    .ttm-score { color: #0f172a; font-weight: 700; display: grid; }
    .ttm-score--blue { justify-items: start; }
    .ttm-score--red { justify-items: end; }
    .ttm-timer { font-weight: 800; letter-spacing: .03em; color: #2281c8; font-size: 1.2rem; }

    .ttm-rope-zone { position: relative; min-height: 410px; border-radius: 14px; border: 1px solid #e3e7ef; background: #fcfcfd; overflow: hidden; }
    .ttm-center { position: absolute; left: 50%; top: 0; bottom: 0; width: 2px; transform: translateX(-50%); background: repeating-linear-gradient(to bottom, #7f8ba2 0 10px, transparent 10px 18px); }
    .ttm-track { position: absolute; left: 9%; right: 9%; top: 50%; height: 8px; transform: translateY(-50%); border-radius: 999px; background: #1f1f21; }
    .ttm-rope { position: absolute; inset: 0; border-radius: 999px; background: linear-gradient(90deg, #101113, #2c2e33); }
    .ttm-flag { position: absolute; top: 50%; left: 50%; width: 14px; height: 36px; transform: translate(-50%, -50%); border-radius: 2px; background: linear-gradient(#d7393d 0 70%, #9d1f22 70%); transition: left .26s cubic-bezier(.22,.61,.36,1); }
    .ttm-tugger { position: absolute; top: 53%; font-size: clamp(2.2rem, 4vw, 3.5rem); animation: ttmPull 1.1s ease-in-out infinite alternate; user-select: none; }
    .ttm-tugger--left { left: 6%; }
    .ttm-tugger--left.b { left: 20%; animation-delay: .2s; }
    .ttm-tugger--right { right: 20%; animation-delay: .1s; }
    .ttm-tugger--right.b { right: 6%; animation-delay: .3s; }
    .ttm-image-hint { position: absolute; left: .7rem; right: .7rem; bottom: .5rem; margin: 0; font-size: .74rem; color: #677088; text-align: center; }

    .ttm-team { border: 1px solid #d9e1f8; border-radius: 14px; padding: 0; background: #fbfdff; overflow: hidden; box-shadow: 0 10px 20px rgba(15, 23, 42, .06); }
    .ttm-team--blue { box-shadow: inset 0 0 0 1px rgba(66,126,224,.12); }
    .ttm-team--red { box-shadow: inset 0 0 0 1px rgba(217,69,94,.14); }
    .ttm-team-head { display:flex; align-items:center; justify-content:space-between; padding: .7rem .8rem; color:#fff; }
    .ttm-team-head--blue { background: #2f84d8; }
    .ttm-team-head--red { background: #d8343a; }
    .ttm-team-points { min-width: 34px; text-align: center; font-weight: 900; border-radius: 999px; background: #fff; color: #0f172a; padding: .1rem .45rem; }
    .ttm-team-body { padding: .7rem; }
    .ttm-question { font-size: 2.3rem; line-height: 1.15; text-align:center; font-weight: 900; margin: .35rem 0 .55rem; min-height: 1.3em; }
    .ttm-team--blue .ttm-question { color: #2f84d8; }
    .ttm-team--red .ttm-question { color: #d8343a; }
    .ttm-question-media { min-height: 130px; max-height: 220px; overflow: auto; margin-bottom: .55rem; padding: .35rem; border: 1px solid #e2e8f0; border-radius: 12px; background: #fff; }
    .ttm-question-media:empty { display: none; }
    .ttm-question-media svg, .ttm-question-media img { max-width: 100%; height: auto; display:block; margin: 0 auto; }
    .ttm-question-media .ttm-choice-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:.35rem; }
    .ttm-question-media .ttm-choice-item { border: 1px solid #d7dce8; border-radius: 8px; padding: .35rem; font-size: .85rem; text-align:left; background:#f8fafc; }
    .ttm-input { border: 2px solid #d6dbe8; border-radius: 12px; background: #ffffff; padding: .4rem .6rem; font-family: ui-monospace, monospace; font-size: 2rem; text-align: center; font-weight: 800; margin-bottom: .6rem; min-height: 2rem; }
    .ttm-keypad { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: .35rem; }
    .ttm-keypad.is-choices { grid-template-columns: 1fr; }
    .ttm-key { border: 1px solid #d6dae4; background: #fff; border-radius: 10px; padding: .82rem .3rem; font-weight: 800; font-size: 1.45rem; cursor: pointer; transition: .18s ease; }
    .ttm-key:hover { transform: translateY(-1px); background: #eef4ff; }
    .ttm-key--clear { background: #ffe4e7; border-color: #ffc1ca; color: #8c1f32; }
    .ttm-key--send { grid-column: span 1; background: #267dc9; border-color: #267dc9; color: #fff; font-size: 1rem; }
    .ttm-key--minus { background: #eef2ff; border-color: #c7d2fe; color: #1e3a8a; font-size: 1.2rem; }
    .ttm-key--clear { font-size: 1rem; }
    .ttm-key, .ttm-input { -webkit-font-smoothing: antialiased; }
    .ttm-team.is-text-question .ttm-question { font-size: 1.45rem; line-height: 1.3; }
    .ttm-choice-btn { width: 100%; border: 1px solid #c9d4e6; background: #eef2f7; border-radius: 20px; padding: .95rem 1.1rem; text-align: left; font-weight: 800; font-size: 1.4rem; color:#0f172a; cursor: pointer; box-shadow: inset 0 -5px 0 var(--choice-accent, #bfd6ff); margin-bottom:.45rem; }
    .ttm-choice-btn:hover { filter: brightness(1.02); transform: translateY(-1px); }
    .ttm-choice-btn:nth-child(1) { --choice-accent: #aecdff; }
    .ttm-choice-btn:nth-child(2) { --choice-accent: #a8e8da; }
    .ttm-choice-btn:nth-child(3) { --choice-accent: #d2c7ff; }
    .ttm-choice-btn:nth-child(4) { --choice-accent: #f3c6b7; }

    .ttm-result { position: absolute; inset: 0; z-index: 12; display: grid; place-items: center; background: rgba(8, 12, 25, .72); }
    .ttm-result[hidden] { display: none; }
    .ttm-result-card { width: min(520px, calc(100% - 2rem)); background: #fff; border-radius: 16px; padding: 1rem; text-align: center; }

    .cap-turn { border:1px solid #d8e4ff; border-radius:10px; background:#f5f8ff; color:#214184; font-weight:700; padding:.45rem .6rem; text-align:center; margin-bottom:.5rem; }
    .cap-field { position: relative; min-height: 410px; border-radius: 14px; border:1px solid #dbe4ec; background: linear-gradient(180deg,#4fa766,#3c9053); overflow:hidden; }
    .cap-midline { position:absolute; left:50%; top:0; bottom:0; width:3px; transform:translateX(-50%); background:rgba(255,255,255,.65); }
    .cap-goal { position:absolute; top:34%; width:16px; height:32%; background:rgba(255,255,255,.4); border:2px solid rgba(255,255,255,.8); }
    .cap-goal--left { left:0; border-left:none; border-radius:0 10px 10px 0; }
    .cap-goal--right { right:0; border-right:none; border-radius:10px 0 0 10px; }
    .cap-ball,.cap-chip { position:absolute; width:34px; height:34px; border-radius:50%; transform:translate(-50%,-50%); will-change: transform; }
    .cap-ball { background:#fff8e6; border:2px solid #b88d2c; box-shadow: inset 0 0 0 3px #f4d58d; }
    .cap-chip--blue { background:#2b86dd; border:2px solid #dbeeff; box-shadow:0 0 0 3px rgba(219,238,255,.45); }
    .cap-chip--red { background:#d83d3d; border:2px solid #ffe0e0; box-shadow:0 0 0 3px rgba(255,224,224,.45); }
    .cap-chip.is-active-shot { box-shadow: 0 0 0 4px #ffe082, 0 0 14px rgba(255,224,130,.75); cursor:grab; }


    @media (max-width: 960px) {
      .challenges-cards { grid-template-columns: 1fr; }
      .ttm-grid4 { grid-template-columns: repeat(2, minmax(0,1fr)); }
      .ttm-grid3 { grid-template-columns: 1fr; }
      .ttm-team-inputs, .ttm-layout { grid-template-columns: 1fr; }
      .ttm-hud { grid-template-columns: 1fr; }
      .ttm-timer { justify-self: start; }
      .ttm-rope-zone { min-height: 300px; }
    }

    @keyframes ttmPull {
      from { transform: translateY(-50%) translateX(0); }
      to { transform: translateY(-52%) translateX(-8px); }
    }
